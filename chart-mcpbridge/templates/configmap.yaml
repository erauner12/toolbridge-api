apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "toolbridge-mcpbridge.fullname" . }}-config
  labels:
    {{- include "toolbridge-mcpbridge.labels" . | nindent 4 }}
data:
  MCP_API_BASE_URL: {{ .Values.mcpbridge.apiBaseUrl | quote }}
  {{- if .Values.mcpbridge.publicUrl }}
  MCP_PUBLIC_URL: {{ .Values.mcpbridge.publicUrl | quote }}
  {{- end }}
  MCP_DEV_MODE: {{ .Values.mcpbridge.devMode | quote }}
  MCP_DEBUG: {{ .Values.mcpbridge.debug | quote }}
  MCP_LOG_LEVEL: {{ .Values.mcpbridge.logLevel | quote }}
  {{- if .Values.mcpbridge.allowedOrigins }}
  MCP_ALLOWED_ORIGINS: {{ .Values.mcpbridge.allowedOrigins | quote }}
  {{- end }}
  {{- if not .Values.mcpbridge.devMode }}
  {{- if .Values.mcpbridge.auth0.domain }}
  AUTH0_DOMAIN: {{ .Values.mcpbridge.auth0.domain | quote }}
  {{- end }}
  {{- end }}
