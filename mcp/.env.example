# ToolBridge MCP Configuration
# Copy this file to .env and update the values for your environment

# =============================================================================
# Tenant Configuration (REQUIRED)
# =============================================================================
TOOLBRIDGE_TENANT_ID=test-tenant-123
TOOLBRIDGE_TENANT_HEADER_SECRET=dev-secret-change-in-production

# =============================================================================
# Go API Connection
# =============================================================================
TOOLBRIDGE_GO_API_BASE_URL=http://localhost:8080

# =============================================================================
# Authentication (choose one mode)
# =============================================================================

# --- Mode 1: Auth0 Automatic Token Refresh (RECOMMENDED) ---
# Store Auth0 client credentials for automatic token management
# The MCP server will fetch and refresh tokens automatically
# Get credentials from: cd ~/git/side/homelab-k8s/terraform/auth0 && terraform output -json mcp_introspection_client
TOOLBRIDGE_AUTH0_CLIENT_ID=your-auth0-client-id
TOOLBRIDGE_AUTH0_CLIENT_SECRET=your-auth0-client-secret
TOOLBRIDGE_AUTH0_DOMAIN=dev-zysv6k3xo7pkwmcb.us.auth0.com
TOOLBRIDGE_AUTH0_AUDIENCE=https://toolbridgeapi.erauner.dev

# Token refresh settings (optional - these are the defaults)
# TOOLBRIDGE_TOKEN_REFRESH_BUFFER_SECONDS=300  # Refresh 5 minutes before expiry
# TOOLBRIDGE_AUTH0_TIMEOUT_SECONDS=10.0        # HTTP timeout for Auth0 requests

# --- Mode 2: Static JWT Token (DEPRECATED) ---
# Manually provide a static Auth0 access token (expires after 24 hours)
# Only use this for testing - tokens must be manually refreshed daily
# TOOLBRIDGE_JWT_TOKEN=eyJ...

# --- Mode 3: Passthrough (Per-User) ---
# No configuration needed - MCP client provides Authorization headers
# Each user has their own token passed through from the MCP client

# =============================================================================
# Server Configuration
# =============================================================================
TOOLBRIDGE_HOST=0.0.0.0
TOOLBRIDGE_PORT=8001

# =============================================================================
# Logging
# =============================================================================
TOOLBRIDGE_LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR

# =============================================================================
# Security
# =============================================================================
# Maximum acceptable timestamp skew in seconds (default: 300 = 5 minutes)
TOOLBRIDGE_MAX_TIMESTAMP_SKEW_SECONDS=300
